### 还得是尝试分割，然后总结规则。
### 可以考虑多次分割然后想办法整合。因为确实存在不一致。
TEXT2SPEAKER_SPLIT_RULE_SYS = '''你是一位精通自然语言处理的专家，负责分析直播音频转录文本。这些转录文本包含独白、旁白和多人对话，通常表现为非结构化、漫无边际的文字。'''
TEXT2SPEAKER_SPLIT_RULE_USER = '''
任务：分析以下ASR转录文本，将其划分为不同说话人以及旁白的片段。然后总结合适的、清晰的规则，方便后续的自动分割类似的转录文本设计。

ASR转录文本：
"""
{{asr_text}}
"""

输出格式：
<说话人分割>
[你的分割，带有说话人标签，用markdown表格的形式呈现]
</说话人分割>

<分割规则>
[你总结的分割规则]
</分割规则>

请按照以下步骤操作：
1. 识别文本中可能的说话人转换点
2. 标记每个说话人的开始和结束
3. 提供每个分割决策的理由
4. 基于你的分析，总结一套合适的、清晰的说话人分割规则
重点关注能表明不同说话人的语言模式、对话转换、问答对以及说话风格的变化。
'''

AGGREGATE_RULES_SYS = '''你是一位专门分析和总结文本的NLP专家。'''
AGGREGATE_RULES_USER = '''我收集了多个说话人分割规则样本，需要你将它们总结为一套统一的、全面的规则。
这些规则将用于将ASR转录文本划分为不同说话人的片段。

以下是收集到的所有规则样本:
```
{{combined_rules}}
```

请分析这些样本，总结出一套最佳的说话人分割规则。你的输出应该:
1. 保留所有有用的规则要点
2. 去除重复内容
3. 组织成清晰、结构化的格式
4. 总结最重要的规则，忽略不具备泛化性的、样本特定的规则
请只输出总结的规则，不要包含其他文本
'''



SPEAKER_SPLIT_SYS = '''你是一个专业的音频转录分析专家，擅长处理口语化、非结构化的直播内容。'''

SPEAKER_SPLIT_USER = '''我需要你帮我分析以下来自未明子直播的ASR转录文本，并按说话人进行分割。
这批文本数据来自直播视频的音频转录，主要包含一位主讲人讨论时事、分享知识以及与观众连麦互动的内容。文本具有明显的口语化特征，包含大量重复、口头禅和情绪化表达。内容主题广泛，涵盖社会评论、哲学政治理论、生活建议、教育问题和阶级批判等。
文本结构呈现两种主要模式：一是主讲人的长篇独白，思路跳跃且内容丰富但组织松散；二是与连麦观众的互动对话，表现为问答交替但边界模糊。主讲人表现出广泛的知识背景，语言风格直接、情绪外露，常用举例说明复杂概念，偶尔使用粗俗语言表达强烈情绪。对话部分特征是交流节奏不稳定，有打断、催促和情绪化反应。
转录文本存在ASR特有的问题，如词语重复、语义不连贯，以及标点使用不规范。文本中还混杂有表情符号等非语言元素。说话人切换通常没有明确标记，需要依靠内容、语气和交流模式的变化来识别不同的说话人。

【如何分割说话人，分割说话人的原则】
{{split_rules}}

【ASR转录文本】
{{asr_raw_text}}

【输出格式】
请按以下格式输出分割结果：

```
序号: [编号]
分割分析: [为什么在此处进行分割的分析，包括语言风格变化、话题转换、代词变化等关键线索]
发言者: [未明子/连麦用户/旁白/背景音频]
说话内容: [完整保留的原始文本，不要摘要或精简]
```

请仔细分析文本中的对话模式、语气变化和内容衔接，根据上述要求准确区分不同说话人。保持原始文本的完整性，不要进行摘要或改写。
'''
SPEAKER_SPLIT_EXAMPLES = ''''''