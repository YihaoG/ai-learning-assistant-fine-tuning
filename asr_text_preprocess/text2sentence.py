import re

def split_text_into_sentences(text):
    """
    将文本划分为句子，支持中英文混合和emoji表情。
    
    参数:
        text (str): 输入文本
        
    返回:
        tuple: (sentences_list, indices_list)
            - sentences_list: 划分好的句子列表
            - indices_list: 每个句子结束位置在原文中的索引列表
    """
    # 中文句末标点: 。！？…
    # 英文句末标点: .!?
    # 考虑省略号: ... 或 。。。
    # 考虑引号后的句末标点
    
    # 匹配句子结束的模式
    sentence_end_pattern = r'(?<=[。！？\.\!\?])[^。！？\.\!\?]*(?=[。！？\.\!\?])|(?<=[\.\!\?])\s+'
    
    # 特殊处理省略号
    text = re.sub(r'\.{3,}', '...', text)  # 将连续3个以上的点替换为3个点
    text = re.sub(r'。{3,}', '。。。', text)  # 将连续3个以上的中文点替换为3个点
    
    sentences = []
    indices = []
    
    if not text:
        return [], []
    
    # 先通过正则表达式找到所有可能的句子结束位置
    potential_ends = []
    
    # 查找所有句末标点
    for match in re.finditer(r'[。！？\.\!\?]+[\"\'"\'"\)\)\>\>]?', text):
        end_pos = match.end()
        potential_ends.append(end_pos)
    
    # 处理没有句末标点的情况
    if not potential_ends:
        sentences.append(text)
        indices.append(len(text) - 1)
        return sentences, indices
    
    # 根据句末标点划分句子
    start_pos = 0
    for end_pos in potential_ends:
        # 避免空句子
        if end_pos > start_pos:
            sentence = text[start_pos:end_pos].strip()
            if sentence:
                sentences.append(sentence)
                indices.append(end_pos - 1)  # 存储句子结束位置的索引
            start_pos = end_pos
    
    # 处理最后一部分
    if start_pos < len(text):
        last_part = text[start_pos:].strip()
        if last_part:
            sentences.append(last_part)
            indices.append(len(text) - 1)
    
    return sentences, indices


text = "当下，个体常因某种主义eaom病症而陷入特殊精神境遇，或自愿投身理想，或被冻困于执念而自甘以痛苦为享乐。后者中多有深陷痛苦者，或自知或未察，常被未知神人为名子对话神人系列记录相关互动片段，供类似境欲者参照思考。那个魏名四，你好，你又是个女儿啊，我靠能听到我说话，那个我是一个我是一个高三的女生。🎼然后我今天我今天回家了，我今天今天的时候我我本来在办公室，我我本来在办公室自学，然后我们老师过来找我。然后让我回家自学，我感觉我感觉我很自以为是，因为我有一个很创伤的高三，你高三没结束呢，你还有一个月不到的时间呢。🎼我有一个很超张的高中嗯那个。😊大概就是我刚上高中的时候成绩很好，然后后来升到卓越班了，然后我在卓夜班特别的难受，然后我就一直然后之后出了卓夜班之后，我就非常的痛苦难受。🎼然后我我是自学的惠明子，你是不是很讨厌自学的人？因为有什么小男生一直给你写信被拉黑了，战相思还写的什么原因？不是的不是的。😊我在那个不是那个是我在卓越班的时候，我一个字也听不懂。😮🎼就是过渡的太快了，跳级的是吧？对我在普通班的时候，我成绩很我成绩还挺好的。然后然后到卓越班之后，我一个字也听不懂，然后成绩就没有以前好了。然后我真的很然后就很难受。然后无论我怎么无论我怎么做，然后我都很难受，我都一直听不懂。然后我在那个班的话，我感觉我感觉他们卓越班的人和普通班的人也很不一样。我觉得他们真的很奇怪，我总是觉得他们对我的恶意很大，虽然这都是两年。🎼前的事情了，但是我有些时候想起来，我还是感觉很难受，反正那个在那个班对我创伤可深了，你现在你现在高几了？我现在高三，我们我我们老师今天让我回家，因为他发他因为我带了了手机去学校，我在那里听网课，然后然后被他发现了，然后他让我回家雪，你可以拒绝吧。😊🎼但是我们学校不让带手机啊，那我没办法了，我只能回家了。你在学校等是那课里听不懂。😡课不是，因为当时我我是从我的经历比较复杂，魏名字不是是的，这个问题你是现在课听不懂吗？😮🎼那个老师的课有些能听懂，但是有些能听懂，有些不能听懂。我当时自觉的原因是因为我想考个好学校。因为我感觉因为我到了高三之后，因为我一直在自学和不自学之间，就是换着。🎼然后我到了高三之后，高三之后，我自我不自学，我跟着老师，但是我成绩也没有很好，然后我又转换自学了，因为我高二上册的时候在自学。就是我打算自学了。然后但是我自学的时候特别的痛苦，特别的难受。也有很多人反对我。然后然后然后然后我自己也不坚定。然后高二下册的时候我就不自学了。但是不自学的时候，成绩也不好，然后我就更难受了。然后高三的时候我决得我不能自学了啊，我自学真的特别难受，我一定要跟着老师。但是但是但但是高三，但是高三上册的时候我不自学的话，我成绩还是很差，然后我觉得我还是自学吧。。😊可能不等一会儿有没有可能就是你比较笨，你他妈的不管是自学还是不自学，你他么成绩就是差。对我现在认清这个事实了，可能就是因为我自己的原因，我自己没能力。就是我本你我不你不一定是没能力。😡🎼嗯。我相了一个我我问你啊，相当于一个女的喜欢两个男的，今天跟这个男的在一块，就觉得另外一个男的好，明天跟另外一个男的在一块，又觉得之前那个男的好，你觉得这个女的是没能力吗？🎼你不是这对对那跟能力有什么关系啊？是的，，大姐贪心贪心不等于没能你。为明子，我也感觉我这样不坚定，但是他。🎼急于求成。对对对对，就是这样子。那现在没时间了，别管了，你他妈就剩他妈的这个什么半个月了。是是的是的，威明子，所以我现在的话自学了，自学我回家的话，那我只能在B站上找找些找些网课吧。那我那我只能这样了，那没办法了。威明子，我上大学的话，会不会也很难受啊？😊🎼你不要那么贪心，这个又要那个又要看这个不太好，就要赶紧跳那个。对的，我之前我之前还打算复读呢。，因为我跟你讲，你不把这个毛病改过来，你不仅上大学难受，你这辈子都难受，你找男朋友难受，你结婚难受，你养了小孩难受，你巴找工作难受，你可难受了，什么都要。是的是的，伪名子，那你非要这样折磨你自己过这种日子，我觉得也算是一种个性吧，也随便伪名子，就是我我我是通过伪的一个。朋友认识你的我那个朋友，他他是五一的时候，他和你的另一个粉丝，然后打电话还讨论了我复读的这件事情，他们都觉得我不适合复读，因为我一直都不适应高中生活，我在高中的时候特别特别的痛苦，他们觉得我是在调避。🎼那就别，你自己觉得我我也觉得我逃避我我逃避考试，我看到我考试的那个成绩不是不好，然后我就特别特别难受，然后干脆不考了。然后我自学，然后然后我也自学，，反正就是我这个情况，你觉得你自学你学懂了没有？🎼我自学的原因是因为我觉得哇你不要说自学的原因，你说自学的结果，你能不能把自学的时候，你学多少，你能懂多少能，这个可以。那行，你就算上了大学，你以后去，他妈的，反正你有自学能力就够了。OK你那是。😡啊，别ban了挺好，你就一直自学吧。你既然有自学的能力，那就是就自学吧。那个那个那个魏名子，我还有一个。🎼还有就是我总是伤害别人，我觉得特别的痛苦，但是我觉得难受完了之后，我下次还是会伤害。就是我情绪已经伤害到什么程度啊？让让那个人特别的痛苦，他现在也是高三生，有多痛苦啊，把头剁了，我的天哪，他他就是你的粉丝，我当时看。🎼有我当时看了你的视频，我觉得你们是我我本来是我高二的时候，我高二下课的时候休学了。我看了你的视频了之后，我觉得你讲的特别的好。然后然后我又激起了去上学的勇气。然后我高三的时候，高三上学期的时候，刚开学的时候，我就非常积极的去上学。但是后来之后但是后来之后我又我又很难受了。😊就是就是我总是烦那个人，我会给那个人发几百条消息。😡🎼然后他不回他不回我的话，我就会很难受。因为因为我休学的时候认识他他他经常给我分享你的视频，然后然后我就久而久之，我就很喜欢他，然后我就经常和他说话，但是他但是他但是他总是不回我，然后我就很伤心，然后我就谴责他。然后过年的时候，他把我给拉黑了。但是我一包括从过年到现在我一直缠着他不放，包括今天晚。😊他说求你了，别别别再伤害我了，别再折磨我了。他这个人是男的女的，等一会儿男男的，你缠着他是用什么东西缠着他？😡🎼手还是腿预言啥，那你真的他真的把你拉黑，你缠不住他的，你管个毛呀，真是的他给你放口子，说明这个逼对你还有意思，我靠。他是你的粉丝，我没有粉丝，我一个粉丝都没有我只始我他很喜欢看你的视频视频，他他他他。😊🎼我总是伤害别人，他说我意识不到，我伤害别人，不然的话我就不会伤害了，伤害个屁，你这个小妮子还能伤害谁，伤害不了任何人呢，我我我威胁他。我总是威胁他威他啥呀？我说。你之前为因为因为他之前因为他之前总是总是说一些说一些很关心我的话，然后我就沦陷了。然后我说那你为什么之前要骗着我，没有想到你这么讨厌我。🎼然然后我就然后我就威胁他，我说我要把你曝光到网上。你妈必须他妈也也是曝光的，你妈高中生谈恋爱，这他妈有什么能曝光呢，谁他妈在乎你们两个逼搞这搞那样，不是不是不是我我我感觉我真的很过分。我找他们学校，我找他们学校的人，我加他们学校的人的好友，然后然后然后然后他不喜欢我找他们学校的人，他也不喜欢我加他们的好友，我一加他都会特别的生气。。🎼然后他二模考试，他今天二模考试还没考好。😡然后然后结果我今天不是被老师让我回家自学嘛，然后我老师还在给我家长打电话，说我的不好的话。然后然后我当时可能情绪就不太好，我又给他发了给他发了好多好多消息，我说我真的真的很难过，我真的很伤心，我想发泄情绪，我知道我不应该我知道我不应该烦你，但是但是我就是烦你了，嘟噜嘟噜噜噜噜的。然后我说啊，我要疯了，我要疯了。然后他说我我要我也要难。😊🎼笑死我二毛没考好，我要难受死了，求求你了，别烦我了。我说你难受跟你对话吗？他不是在跟你对话吗？别烦了，我你妈别烦我了，我操。服了，他不是在跟你对话吗？他又没有切断跟你的通信？🎼对对呀，因为他之前切断的时候，我也经常烦他，我感觉我这样子一直伤害，你在放屁吗？他切断了给你的通信，你还能经常烦他怎么做到的？因为我会想一想。😡想尽一切无法烦他想尽一切办法，你怎么想尽一切办法，他都被你这妈拉黑了，我怎么样呢，你怎么跟他烦他，找找他的好友，让他的好友联系他。我知道他的电话，让别给他打电话。🎼他的好友为什么帮你做这种事呢？你用什么贿赂的他的好友就是。😊不用怎么贿赂啊，就是随便说说，然后他们就帮了。然后他一看见他的好友，因为我因为我俩这这件事儿过去找他他就特别特别的生气，然后我就总是伤害别人。然后我也意识到了，我感觉我很愧疚，但是他说你根本就没有意识到，不然你就不会再伤害别人了。😡🎼这种东西不都不能算这么伤害，我操，但是我感觉他好痛苦呀，还有什么特别痛苦的，真有什么痛苦的，我不能理解啊。我不觉得这有啥痛苦呢？天哪，魏名字。🎼就是我在我在学校的时候，我我我不进班学习，我在老师的办公室里，本来是自学的，后来快高考了，我本来又想着复读，后来又不复读了，不复读完了，事不要跟我扯了。你刚说过一遍了，你还要说吗？😊我我说的是我在办公室是不是是不是非常不好啊，影响非常不好，好不好？你在厕所就就行了吗？你觉得呢你还能去哪里搞笑。😡🎼我名字，那你那你那你觉得我是一个什么样的人啊？你是个平凡的普通的人那个。😊我我也我太过贪心了，你主要的特点就是太贪心了，好吧。对我之前一直想上名校，但是我觉得现在现在不要不要了，接受现实吧。我是应试教育下的失败者。🎼我还让d不 seek，我把我高一的时候，我高一的时候和我们班人吵架了。天哪，因为我在那个班的时候，我特别痛苦，我还我还在黑板上写老师，因为我问老师提，老师不给我讲，然后就在黑板上写老师走的真快呀。然后画了一个新的表，这个事跟我没有关系啊，跟我们哦，行行行行行，就那个那个。就是我我很我很容易焦虑。我我。😊🎼我我我那个那个那个就是你的粉丝说我没有面对现实的能力，也没有解决现实问题的能力。我觉得很悲伤。没没没没没有，你有创造现实能力就够了。😡你想要什么样的现实，你就去努力去创造它，不要管那些什么面对呀、理解呀什么去创造现实。行，魏明子，那你那你能再批评我一下吗？🎼我对批评你不感兴趣，你让那个家伙批评你吧，批评你的这个位置，你还是留给你喜欢的人吧。OK拜拜。那个那个伪名字，你你讨厌我吗？你不会被我讨厌。好那个我问题很大吗？伪名字。😡🎼你没有任何问题你没有任何问题。好吧，好，你很也很正常，你没有任何问题OK.好好的好的，谢谢你魏明子拜拜拜。🎼谢谢。在困境中，不因把失败最终归咎于认识的欠缺和选择的失误这些主观的原因，而应该归咎于持续完善认识，修正选择的主观努力的不足，以及客观力量的实际差异。要在主观努力的帮助下寻找和学会把握转变客观力量的契机，并无限坚决的去反复调整介入方式，以最强硬果断的姿态执行到底，只有这样才能克服困境，而不是被困境所克服和奴化。简单来说。就是想到底，拼命做做错了，重新想，拜位名子。😊"
sentences, indices = split_text_into_sentences(text)
for i, (sentence, index) in enumerate(zip(sentences, indices)):
    print(f"句子 {i+1}: {sentence} (结束于索引: {index})")
    if i >= 20:
        break
# print(text[:indices[2]])

# print(text[:indices[8]])

# print(text[:indices[20]])